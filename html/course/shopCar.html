<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>个人信息</title>
    <script src="../../js/jquery.js"></script>
    <!-- 其他插件 -->
    <link rel="stylesheet" href="../../css/select.css">
    <link rel="stylesheet" href="../../css/font/iconfont.css">
    <link rel="stylesheet" href="../../css/common.css">
    <script src="../../js/JqSelect.js"></script>
    
    <!-- 本页 -->
    <link rel="stylesheet" href="../../css/course/shopCar.css">
</head>
<body>
    <div class="header"></div>
    <div class="content">
        <div class="shopCarTitle">
            <span class="shopCarTitleTxt">我的购物车</span>
            共
            <span class="shopCarNum">7</span>
            门，已选择
            <span class="shopCarXNum">0</span>
            门
        </div>
        <div class="contentC">
            <div class="shopCarBox">
                <table class="shopCarTal" cellpadding="0" cellspacing="0">
                    <tr>
                        <td>
                            <input type="checkbox" class="checkBox">
                            <label class="iconfont checkedX">&#xe679;</label>
                            全选
                        </td>
                        <td>商品</td>
                        <td>有效期</td>
                        <td>单价</td>
                        <td>数量</td>
                        <td>实付金额</td>
                        <td>操作</td>
                    </tr>
                    <tr>
                        <td>
                            <input type="checkbox" class="checkBox">
                            <label class="iconfont checkedX">&#xe679;</label>
                        </td>
                        <td>
                            <div class="carCourse">
                                <img src="../../img/course/ke1.png" alt="">
                                <div class="carCourseTxt">
                                    <div class="carCourseBan">技能冲刺班</div>
                                    <div class="carCourseKe">中西医结合执业助理医师</div>
                                    <div class="carCourseZpin">有赠品</div>
                                </div>
                            </div>
                            
                        </td>
                        <td>
                            2018-1-10<br>
                            至<br>
                            2018-2-10
                        </td>
                        <td class="carPrice">
                            ¥ 1680
                        </td>
                        <td>
                            <div class="carAdd">
                                <span>-</span>
                                <span>1</span>
                                <span>+</span>
                            </div>
                        </td>
                        <td>￥1680</td>
                        <td class="carCaozuo">
                            <span class="carSChu"> 
                                <span class="iconfont carCaozuoX">&#xe63b;</span>
                                删除
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="checkbox" class="checkBox">
                            <label class="iconfont checkedX">&#xe679;</label>
                        </td>
                        <td>
                            <div class="carCourse">
                                <img src="../../img/course/ke1.png" alt="">
                                <div class="carCourseTxt">
                                    <div class="carCourseBan">技能冲刺班</div>
                                    <div class="carCourseKe">中西医结合执业助理医师</div>
                                    <div class="carCourseZpin">有赠品</div>
                                </div>
                            </div>
                            
                        </td>
                        <td>
                            2018-1-10<br>
                            至<br>
                            2018-2-10
                        </td>
                        <td class="carPrice">
                            ¥ 1680
                        </td>
                        <td>
                            <div class="carAdd">
                                <span>-</span>
                                <span>1</span>
                                <span>+</span>
                            </div>
                        </td>
                        <td>￥1680</td>
                        <td class="carCaozuo">
                            <span class="carSChu">  
                                <span class="iconfont carCaozuoX">&#xe63b;</span>
                                删除
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="checkbox" class="checkBox">
                            <label class="iconfont checkedX">&#xe679;</label>
                        </td>
                        <td>
                            <div class="carCourse">
                                <img src="../../img/course/ke1.png" alt="">
                                <div class="carCourseTxt">
                                    <div class="carCourseBan">技能冲刺班</div>
                                    <div class="carCourseKe">中西医结合执业助理医师</div>
                                    <div class="carCourseZpin">有赠品</div>
                                </div>
                            </div>
                            
                        </td>
                        <td>
                            2018-1-10<br>
                            至<br>
                            2018-2-10
                        </td>
                        <td class="carPrice">
                            ¥ 1680
                        </td>
                        <td>
                            <div class="carAdd">
                                <span>-</span>
                                <span>1</span>
                                <span>+</span>
                            </div>
                        </td>
                        <td>￥1680</td>
                        <td class="carCaozuo">
                            <span class="carSChu"> 
                                <span class="iconfont carCaozuoX">&#xe63b;</span>
                                删除
                            </span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="shopCarB">
        <div class="shopCarBBox">
            <div class="shopCarSC">
                返回商城
            </div>
            <div class="shopCarJS">
                <span class="shopCarJSTxt1">应付金额：</span>
                <span class="shopCarJSTxt2">¥1680</span>
                <span class="shopCarJSBtn">去结算</span>
            </div>
        </div>
    </div>
    <div class="footer"></div>
</body>
<script src="../../js/common.js"></script>
<script>
    window.onload = function(){
        $('#headSelect').selectric();        
        $("body").css({
            "opacity": 1
        })
        var headerHeight = $(".header").height();
        var footerHeight = $(".footer").height();
        var height = $(window).height();
        $(".content").css({
            "min-height": height - headerHeight - footerHeight + "px"
        })
        // 表格
            // 表格多选框处理
            var talTr = $(".shopCarTal").find("tr");
            var trNum = talTr.length;
            for(var i = 0;i < trNum; i++){
                talTr.eq(i).find(".checkBox").attr("id","checked"+i);
                talTr.eq(i).find(".checkBox").prop("checked",true);
                talTr.eq(i).find(".checkedX").attr("for","checked"+i);
            }
            // 删除
            $(".carSChu").click(function(){
                $(this).parent().parent().remove();
            })

            $(".checkedX").click(function(){
                var isqx = $(this).attr("for").split("checked")[1];
                var ischecked = $(this).parent().find(".checkBox").prop("checked");

                var num = 0;
                for(var i = 1;i < trNum; i++){
                    if(talTr.eq(i).find(".checkBox").prop("checked")){
                        num++
                    }
                }
                if(isqx == 0){
                    if(num == trNum-1&&ischecked){
                        talTr.find(".checkBox").prop("checked",false);
                    }else{
                        talTr.find(".checkBox").prop("checked",true);
                    }
                }else{
                    if(ischecked){
                        $(this).parent().find(".checkBox").prop("checked",false);
                    }else{
                        $(this).parent().find(".checkBox").prop("checked",true);
                    }
                    if(num == trNum-1){
                        talTr.eq(0).find(".checkBox").prop("checked",true);
                    }
                }
            
                    
              
                return false;
            })
    }
</script>
</html>